
var frontvpg={};frontvpg.targets={mobile:false,tablet:false,desktop:false};frontvpg.maxWidthMobile=768;frontvpg.maxWidthTablet=1024;frontvpg.minWidthDesktop=1025;frontvpg.isTouch="ontouchstart"in window;frontvpg.calculateBreakPoint=function(){if(!document.body){return;}
frontvpg.windowWidth=document.body.clientWidth;frontvpg.initTargetsFromCss();if(!frontvpg.targets.mobile&&!frontvpg.targets.tablet&&!frontvpg.targets.desktop)
{frontvpg.initTargetsFromJs();}};frontvpg.initTargetsFromCss=function(){var whatDeviceIs=document.querySelector('.whatDeviceIs');if(!whatDeviceIs){return;}
var minWidth=parseInt(getComputedStyle(whatDeviceIs)['minWidth'].replace('px',''));var maxWidth=parseInt(getComputedStyle(whatDeviceIs)['maxWidth'].replace('px',''));if(maxWidth==frontvpg.maxWidthMobile&&!frontvpg.targets.mobile){frontvpg.targets.mobile=true;frontvpg.targets.tablet=frontvpg.targets.desktop=false;}
else{if(maxWidth==frontvpg.maxWidthTablet&&!frontvpg.targets.tablet){frontvpg.targets.tablet=true;frontvpg.targets.mobile=frontvpg.targets.desktop=false;}else{if(minWidth==frontvpg.minWidthDesktop&&!frontvpg.targets.desktop){frontvpg.targets.desktop=true;frontvpg.targets.mobile=frontvpg.targets.tablet=false;}}}
for(var prop in frontvpg.targets){if(frontvpg.targets[prop]==true){frontvpg.currentBreakPoint=prop;}}};frontvpg.isMobileAndTablet=function(){return(frontvpg.devices.isIphone||frontvpg.devices.isIpad||frontvpg.devices.isAndroid||frontvpg.isMobile());};frontvpg.isMobile=function(){var userAgent=navigator.userAgent||navigator.vendor||window.opera,fullPattern=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,isMobileAgent=fullPattern.test(userAgent)||shortPattern.test(userAgent.substr(0,4));return(!frontvpg.devices.isIpad)&&(frontvpg.devices.isIphone||isMobileAgent);};frontvpg.initTargetsFromJs=function(){if(frontvpg.windowWidth<frontvpg.maxWidthMobile&&!frontvpg.targets.mobile){frontvpg.targets.mobile=true;frontvpg.targets.tablet=false;frontvpg.targets.desktop=false;}
else if(frontvpg.windowWidth<frontvpg.maxWidthTablet&&!frontvpg.targets.tablet){frontvpg.targets.mobile=false;frontvpg.targets.tablet=true;frontvpg.targets.desktop=false;}
else if(frontvpg.windowWidth>=frontvpg.minWidthDesktop&&!frontvpg.targets.desktop){frontvpg.targets.mobile=false;frontvpg.targets.tablet=false;frontvpg.targets.desktop=true;}
for(var prop in frontvpg.targets){if(frontvpg.targets[prop]==true){frontvpg.currentBreakPoint=prop;}}};frontvpg.getUiVersion=function(){var siteType='desktopBreakPoint';if(frontvpg.targets.mobile){siteType='mobileBreakPoint';}else if(frontvpg.targets.tablet){siteType='tabletBreakPoint';}
return siteType;};frontvpg.getDeviceOrientation=function(){var deviceOrientation=frontvpg.desktopMode;frontvpg.isLandscape=window.innerHeight<window.innerWidth;if(frontvpg.isMobileAndTablet()){deviceOrientation=frontvpg.isLandscape?frontvpg.landscapeMode:frontvpg.portraitMode;}
return deviceOrientation;};document.addEventListener("DOMContentLoaded",function(){var whatDeviceIs=document.createElement('div');whatDeviceIs.classList.add('whatDeviceIs');whatDeviceIs.style.display='none';document.body.appendChild(whatDeviceIs);frontvpg.calculateBreakPoint();preventEventResizeOnMobile();window.addEventListener('resize',function(){frontvpg.calculateBreakPoint();});});;
function Cookie(){this.get=function(key){var keyValue=document.cookie.match('(^|;) ?'+key+'=([^;]*)(;|$)');return keyValue?keyValue[2]:null;}
this.set=function(key,value,delay){var expires=new Date();expires.setTime(expires.getTime()+delay);document.cookie=key+'='+value+';expires='+expires.toUTCString();}
this.getGdprCookie=function(){if(!this.get('cookiePref')){return null;}
return JSON.parse(this.get('cookiePref'));}
this.checkCookiePref=function(){const cookiePref=this.getGdprCookie();if(cookiePref!==null){if(!cookiePref.hasOwnProperty('analytics_cookie')||cookiePref['analytics_cookie']===0){return true;}}
return false;}}
var cookie=new Cookie();;
var navVersion=navigator.appVersion;frontvpg.devices={};frontvpg.devices.isIphone=(/iphone/gi).test(navVersion);frontvpg.devices.isIpad=(/ipad/gi).test(navVersion);frontvpg.devices.isAndroid=(/android/gi).test(navVersion);function Device(){this.getAppDevice=function(){if(isNativeApp&&typeof deviceFrom!=="undefined"){return deviceFrom;}
var webAppDataJson=cookie.get('webapp');if(webAppDataJson!==null){try{var webaAppData=JSON.parse(decodeURIComponent(webAppDataJson));if(webaAppData.device_from!==undefined){return webaAppData.device_from;}}catch(e){console.log(e);}}
return null;}
this.getPageType=function(){if(frontvpg.isNativeApp||frontvpg.isWebApp){return'virtual';}
return'classic';}
this.getPageArchitecture=function(){if(frontvpg.isNativeApp||frontvpg.isWebApp){return'webview';}
return'web';}}
var device=new Device();;
function Tracking(){this.fromEa='voyage-prive-co-uk';var isGTMStarted=false;var EAintervals=[];var allowedLabels=['newMember','existingMember'];this.extendDataLayer=function(valuesHash){if(dataLayer.length===0){dataLayer.push({});}
for(var key in valuesHash){if(valuesHash.hasOwnProperty(key)){dataLayer[0][key]=valuesHash[key];}}};this.pushToDataLayer=function(valuesHash){if(dataLayer.length===0){dataLayer.push({});}
if(isGTMStarted||typeof valuesHash.event!=='undefined'){dataLayer.push(valuesHash);}else{this.extendDataLayer(valuesHash);}};this.addGTM=function(){if(typeof withExternal!=="undefined"&&withExternal){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-4WL3');}else{dataLayer.push({'gtm.start':new Date().getTime(),event:'gtm.js'});}
isGTMStarted=true;};this.initDeviceTags=function(){if(!frontvpg.targets.mobile&&!frontvpg.targets.tablet&&!frontvpg.targets.desktop){frontvpg.calculateBreakPoint();}
this.pushToDataLayer({"uiVersion":frontvpg.getUiVersion(),"siteType":this.getDevice(),"pageType":device.getPageType(),"pageArchitecture":device.getPageArchitecture(),"sessionDeviceOrientation":frontvpg.getDeviceOrientation()});};this.initAppTags=function(){if(frontvpg.isNativeApp){this.pushToDataLayer({"appID":'com.voyageprive.iphone.app',"appVersion":this.getAppMobileVersion(),"appName":'VoyagePrive'});}};this.initDataLayer=function(){this.initDeviceTags();this.initAppTags();};this.initGTM=function(){this.initDataLayer();this.addGTM();};this.sendGAEvent=function(eventCategory,eventLabel,eventAction,eventCallback){if(cookie.checkCookiePref()&&!allowedLabels.includes(eventLabel)){return;}
this.pushToDataLayer({'event':'customEvent','customCategory':eventCategory||'','customAction':eventAction||'','customLabel':eventLabel||'','eventCallback':eventCallback?setTimeout(eventCallback,1000):null});};this.sendGAPageView=function(hash,search){this.sendGAEvent('document',hash,search);};this.sendEAEvent=function(path){if(cookie.checkCookiePref()){return;}
if(typeof EA_event!='undefined'){path=this.addCulturePrefix(path);EA_event(path);}};this.sendEAPageView=function(path){if(cookie.checkCookiePref()){return;}
var self=this;var intervalIndex=EAintervals.length;EAintervals.push(setInterval(function(){if(typeof EA_collector!=='undefined'){path=path.replace(/thematique/g,'showroom');path=self.addCulturePrefix(path);var data=['path',path,'from',self.fromEa,'sitetype',self.getSiteType(),'pagegroup',self.getPageGroup(path),'useragent',navigator.userAgent];if(typeof EAParameters!=='undefined'){var EAParametersHash=['uid',EAParameters.uid,'email',EAParameters.email?EAParameters.email:null,'sponsor_id',EAParameters.sponsor_id];data=data.concat(EAParametersHash);}
var result=EA_collector(data);if(result!==false){clearInterval(EAintervals[intervalIndex]);}}},500));};this.getSiteType=function(){if(typeof isWebApp!=='undefined'){return isWebApp?'app':'site';}
return'site';};this.getPageGroup=function(path){var pathHash=path.replace(/^\/+/,"").split('/');var pageGroup=pathHash[0];if(typeof isMultiLangCountry!=='undefined'&&isMultiLangCountry===true){pageGroup=pathHash[1];}
return pageGroup;};this.getDevice=function(){var appDevice=device.getAppDevice();var deviceType='desktop';if(appDevice===null){if(typeof forceDevice!=="undefined"){deviceType=forceDevice;}
else if(frontvpg.isMobile()){deviceType='mobile';}
else if(frontvpg.targets.tablet){deviceType='tablet';}else{deviceType='desktop';}}else{deviceType=appDevice;}
return deviceType;};this.getAppMobileVersion=function(){if(frontvpg.appMobileVersion!==undefined){return frontvpg.appMobileVersion;}
return'0';};this.getABVersion=function(){if(frontvpg.frontVersion!==undefined){return frontvpg.frontVersion;}
return'0';};this.addEADeviceInPath=function(path,position){var pathArr=path.split('/');var appRegex=new RegExp("^App[0-9]{1,}(\.[0-9]{1,})*");pathArr.forEach(function(value,key){if(appRegex.test(value)){position=key;}});var deviceType=this.getDevice();pathArr.splice(position,0,deviceType);return pathArr.join('/');};this.addCulturePrefix=function(path)
{if(typeof isMultiLangCountry!=='undefined'&&typeof langCountry!=='undefined'&&isMultiLangCountry&&!(/^((\/?)[a-z]{2}_[A-Z]{2})/).test(path)){path="/"+langCountry+path;}
return path;};this.sendConnectionTracking=function(dataHash)
{var sendTracking=false;var action='';var label='existingMember';if(dataHash['isNewMember']==='1'){label='newMember';}
switch(dataHash['actionFrom']){case'signin':action='loginClick';sendTracking=true;break;case'signup':action='signUpClick';sendTracking=true;break;}
if(sendTracking){this.sendGAEvent('userInteraction',label,action);}};this.handleProductActionEA=function(event_name,evt){var saleId='';if(saleIdFromUrl!==undefined){saleId=saleIdFromUrl;}
var parent=$(evt.target).parent();if((saleId=='')&&((parent.hasClass("guestOriginSubscribe")==true)||parent.hasClass("lastMinutesBlock")==true)){var hrefValue=parent.attr("href");var url=$(evt.target).parent().attr("href");if(hrefValue&&hrefValue.length){url=parent.attr("href");saleId=url.substring(url.lastIndexOf('/')+1);}else{saleId=$(evt.target).parents('article').attr('id');}}
if(saleId!=''&&typeof EA_productevent!=='undefined'){EA_productevent(saleId,event_name);}};this.handleTrackingSurveyPage=function(){if($('#content-review .successMessage').length){this.sendGAEvent('surveyInteraction','','surveySubmission');}
if($('#content-survey .errorMessage').length){this.sendGAEvent('siteError',$('#content-survey input[name="trackingSubmitMessage"]').val(),'formError');}};this.handleTrackingAlertsPage=function(){$('#alerts-container .alert-form-container form').each(function(){if($(this).find('.errorMessage').length)
{this.sendGAEvent('siteError',$(this).find('.errorMessage').text(),'formError');}});$(document).on('submit','#alerts-container .alert-form-container form',function(){var alertCriterias=[];var alertDestinations=[];$(this).find('select[name="ac[]"], select[name="c_de[]"], select[name="__c_de[]"]').each(function(){if($(this).val()){alertDestinations.push($(this).val());}});alertCriterias.push(alertDestinations.join(','));alertCriterias.push('t=&sth=&td=&ga=');alertCriterias.push('date='+$(this).find('input.datepicker-input').val());alertCriterias.push('st=');var alertDepartureCity=[];$(this).find('select[name="dc[]"]').each(function(){if($(this).val()){alertDepartureCity.push($(this).val());}});alertCriterias.push('dc='+alertDepartureCity.join(','));alertCriterias.push('nights=');this.sendGAEvent('alertInteraction',alertCriterias.join('&'),'fromAlertsPageSave');});};this.initTrackingVars=function(){var whatDeviceIs=document.querySelector('.whatDeviceIs');if(!whatDeviceIs){return;}
var maxWidth=parseInt(getComputedStyle(whatDeviceIs)['maxWidth'].replace('px',''));if(maxWidth==frontvpg.maxWidthMobile&&!frontvpg.targets.mobile){this.fromEa='mobile-'+this.fromEa;}else if(frontvpg.targets.tablet){this.fromEa='tablet-'+this.fromEa;}else{this.fromEa='voyage-prive-co-uk';if(this.fromEa.charAt(0)==='-'){this.fromEa=this.fromEa.slice(1);}}};this.buildTrackingVars=function(){frontvpg.calculateBreakPoint();this.fromEa='voyage-prive-co-uk';var appDevice=device.getAppDevice();if(appDevice==null){if(typeof forceDevice!=="undefined"){if(forceDevice=='mobile'){this.fromEa='mobile-'+this.fromEa;}else if(forceDevice=='tablet'){this.fromEa='tablet-'+this.fromEa;}else{if(this.fromEa.charAt(0)==='-'){this.fromEa=this.fromEa.slice(1);}}}
else if(frontvpg.targets.mobile){this.fromEa='mobile-'+this.fromEa;}else if(frontvpg.targets.tablet){this.fromEa='tablet-'+this.fromEa;}else{if(this.fromEa.charAt(0)==='-'){this.fromEa=this.fromEa.slice(1);}}}else{this.fromEa=appDevice+'-'+this.fromEa;}};this.handleBasketTracking=function(currentStep)
{if(currentStep=='1'){this.pushToDataLayer({'event':'basketEvent'});}};}
var tracking=new Tracking;var vpTrackClickFunction=function(e){var eaAttrAction='ea-action';var gaAttrCategory='ga-tracker';var gaAttrAction='ga-action';var gaAttrLabel='ga-label';var eaAttrProductAction='ea-productaction';var isGATracked=((typeof $(this).attr(gaAttrCategory)!="undefined")&&$(this).attr(gaAttrCategory)!="");if(isGATracked){var eventCategory=$(this).attr(gaAttrCategory);var eventAction='';var eventLabel='';if((typeof $(this).attr(gaAttrAction)!="undefined")&&$(this).attr(gaAttrAction)!="")
{eventAction=$(this).attr(gaAttrAction);}
if((typeof $(this).attr(gaAttrLabel)!="undefined")&&$(this).attr(gaAttrLabel)!="")
{eventLabel=$(this).attr(gaAttrLabel);}
tracking.sendGAEvent(eventCategory,eventLabel,eventAction);}
var isEATracked=((typeof $(this).attr(eaAttrAction)!="undefined")&&$(this).attr(eaAttrAction)!="");if(isEATracked){var path=$(this).attr(eaAttrAction);tracking.sendEAEvent(path);}
var isEAProductTracked=((typeof $(this).attr(eaAttrProductAction)!="undefined")&&$(this).attr(eaAttrProductAction)!="");if(isEAProductTracked){var path=$(this).attr(eaAttrProductAction);tracking.handleProductActionEA(path,e);}
e.stopPropagation();};document.addEventListener('click',function(e){for(var target=e.target;target&&target!=this;target=target.parentNode){if(typeof target=='Element'&&target.matches('.vpTrackClick')){vpTrackClickFunction.call(target,e);break;}}},false);;